{"version":3,"sources":["componnents/Card.js","componnents/Hand.js","componnents/Player.js","componnents/Deck.js","App.js","serviceWorker.js","index.js"],"names":["Card","props","onMouseDown","e","document","addEventListener","moveCard","stopListen","touches","stopPropagation","preventDefault","setState","visible","animate","state","rel","x","pageX","pos","y","pageY","removeEventListener","changedTouches","mouseUp","card","index","animationEnd","type","console","log","this","classList","add","remove","val","className","style","Object","assign","left","top","color","ref","r","onTouchStart","onAnimationEnd","value","getSymbol","React","Component","Hand","cards","cardElement","posGoal","forced","hand","addCard","getCenterX","width","getCenterY","height","onCardMoveEnd","animationName","clearTimer","window","clearTimeout","resolve","handPos","getPos","cardCount","timer","Math","max","sqrt","setProperty","setTimeout","transform","Promise","reject","getBoundingClientRect","visibleLastCard","length","solved","name","round","map","key","toString","valueString","typeString","renderHand","Player","hands","prevProps","prevState","snapshot","cardData","cardPos","cardRealPos","i","player","then","cb","addedPromises","bottom","right","all","results","result","some","catch","forEach","reset","currentPlayer","winner","id","CardData","require","Deck","releaseCard","cardIndex","moveCardToHand","success","p2Card","element","lastCardIndex","showCard","createCards","shuffle","res","VALUES","TYPES","push","array","sort","random","mouseEvent","Board","App","addCardToPlayer2","callback","p2CardData","board","gameEnded","checkWinner","p2Visible","message","indexOf","deck","resetDeck","player1","player2","onClick","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","ReactDOM","render","getElementById","URL","process","href","origin","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.b4615260.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './Card.css';\r\n\r\nclass Card extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            pos: {\r\n                x: 0,\r\n                y: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    getSymbol(type){\r\n        switch (type){\r\n            case \"hearts\":\r\n                return \"♥\";\r\n            case \"clubs\":\r\n                return \"♣\";\r\n            case \"spades\":\r\n                return \"♠\";\r\n            case \"diams\":\r\n                return \"♦\";\r\n            default: \r\n                return \"No\"\r\n        }\r\n    }\r\n    onMouseDown=(e)=>{\r\n        if (!this.props.onMouseDown) return;\r\n        // let pos = this.card.getBoundingClientRect();\r\n        document.addEventListener(\"mousemove\", this.moveCard);\r\n        document.addEventListener(\"mouseup\", this.stopListen);\r\n        document.addEventListener(\"touchmove\", this.moveCard);\r\n        document.addEventListener(\"touchend\", this.stopListen);\r\n        if (e.touches){\r\n            e = e.touches[0];\r\n        } else {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n        // console.log(\"stratX: \", e.pageX - pos.left)\r\n        this.setState({\r\n            visible: true,\r\n            // dragging: true,\r\n            animate: !this.state.visible,\r\n            rel: {\r\n                x: e.pageX - this.state.pos.x,\r\n                y: e.pageY - this.state.pos.y   \r\n            } });\r\n    }\r\n    moveCard = (e) => {\r\n        if (e.touches){\r\n            e = e.touches[0];\r\n        } else {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n        this.setState({\r\n            pos: {\r\n                x: e.pageX - this.state.rel.x,\r\n                y: e.pageY - this.state.rel.y\r\n            }\r\n        })\r\n    }\r\n    stopListen=(e)=>{\r\n        document.removeEventListener(\"mouseup\", this.stopListen);\r\n        document.removeEventListener(\"mousemove\", this.moveCard);\r\n        document.removeEventListener(\"touchend\", this.stopListen);\r\n        document.removeEventListener(\"touchmove\", this.moveCard);\r\n        e = e.touches ? e.changedTouches[0] : e;\r\n        this.props.mouseUp && this.props.mouseUp({\r\n            x: e.pageX,\r\n            y: e.pageY\r\n        }, this.props.card, this.card, this.props.index);\r\n    }\r\n    animationEnd = () => {\r\n        this.setState({\r\n            animate: false\r\n        });\r\n    }\r\n    showCard() {\r\n\r\n        console.log(\"flipping card 2\");\r\n        this.card.classList.add(\"animate\");\r\n        this.card.classList.remove(\"hidden\");\r\n    }\r\n    \r\n    get element(){\r\n        return this.card;\r\n    }\r\n    renderCorner(val, type, pos) {\r\n        return <div className={\"small \"+pos}>\r\n            <div className=\"small-number\">{val}</div>\r\n            <div className=\"small-symbol\">{type}</div>\r\n        </div>\r\n    }\r\n    render() {\r\n        let visible = \"card-container\" + (this.props.visible || this.state.visible ? \"\" : \" hidden\") + (this.state.animate? \" animate\" : \"\");\r\n        let style = Object.assign({\r\n            left: this.state.pos.x + \"px\",\r\n            top: this.state.pos.y + \"px\",\r\n            color: this.props.card.color === \"r\" ? \"#d12d36\" : \"#333\"\r\n        }, \r\n            this.props.style);\r\n        return (\r\n            <div ref={((r) => this.card = r)} className={visible} style={style} onTouchStart={this.onMouseDown} onMouseDown={this.onMouseDown} onAnimationEnd={this.animationEnd}>\r\n                <div className=\"side front\">\r\n                    {/* {this.renderCorner(this.props.value, this.getSymbol(this.props.type), \"top\")} */}\r\n                    <div className={\"small top\"}>\r\n                        <div className=\"small-number\">{this.props.value}</div>\r\n                        <div className=\"small-symbol\">{this.getSymbol(this.props.type)}</div>\r\n                    </div>\r\n                    <div className=\"middle\"><div>{this.props.value}</div></div>\r\n                    {/* {this.renderCorner(this.props.value, this.getSymbol(this.props.type), \"bottom\")} */}\r\n                    <div className={\"small bottom\"}>\r\n                        <div className=\"small-number\">{this.props.value}</div>\r\n                        <div className=\"small-symbol\">{this.getSymbol(this.props.type)}</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"side back\"></div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Card;\r\n\r\n","import React from 'react';\r\nimport Card from './Card';\r\n\r\nimport './Hand.css';\r\n\r\nclass Hand extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            cards: []\r\n        }\r\n    }\r\n    componentDidMount(){\r\n    }\r\n    addCard(card, cardElement, posGoal, forced) {\r\n        // let cards = [...this.state.cards];\r\n        if (this.props.hand.addCard(card) || forced) {\r\n            function getCenterX(pos) {\r\n                return pos.x + (pos.width / 2);\r\n            }\r\n            function getCenterY(pos) {\r\n                return pos.y + (pos.height / 2);\r\n            }\r\n            // cards.push(card);\r\n            // pos goal shold be the transform = translate3d(posGoal.x+\"px\", posGoal.y + \"px\", 10px )\r\n            let onCardMoveEnd = (e)=>{\r\n                if (e.animationName === \"trans-animate\"){\r\n                    clearTimer && window.clearTimeout(clearTimer);\r\n                    cardElement.classList.remove(\"trans-animate\");\r\n                    cardElement.removeEventListener(\"animattionend\", onCardMoveEnd);\r\n                    this.resolve(true);\r\n                    this.setState({ cards: [...this.props.hand.cards] });\r\n                }\r\n            }\r\n            cardElement.addEventListener(\"animationend\", onCardMoveEnd);\r\n            // cardElement\r\n            let handPos = this.getPos();\r\n            let x = getCenterX(handPos) - getCenterX(posGoal);\r\n            let y = getCenterY(handPos) - getCenterY(posGoal) + (35 * (this.cardCount));\r\n            let timer = Math.max(300, Math.sqrt(x) * 2 + 350);\r\n            cardElement.style.setProperty(\"--tran-time\", timer + \"ms\");\r\n            console.log(\"tran time changed\", timer);\r\n            let clearTimer = window.setTimeout(() => {\r\n                onCardMoveEnd({ animationName: \"trans-animate\" })\r\n            }, timer);\r\n            cardElement.classList.add(\"trans-animate\");\r\n            // cardElement.classList.add(\"animate\");\r\n            cardElement.style.transform = `translate3d(${x - 2}px, ${y - 2}px, 10px)`;\r\n            return new Promise((resolve, reject)=>{\r\n                this.resolve = resolve;\r\n            });\r\n        }\r\n        return Promise.resolve(false);\r\n    }\r\n    reset(){\r\n        this.setState({ \r\n            cards: []\r\n        });\r\n    }\r\n    get cardCount(){\r\n        return this.state.cards.length;\r\n    }\r\n    getPos(){\r\n        return this.hand.getBoundingClientRect();\r\n    }\r\n    renderHand(){\r\n        if (this.props.visibleLastCard && this.state.cards.length === 5 ){\r\n            return <div className=\"hand-result\">{this.props.hand.solved.name}</div>\r\n        }\r\n    }\r\n    render(){\r\n        let style= {\r\n            \"borderColor\": this.props.round > this.state.cards.length ? \"green\" : \"red\"    \r\n        }\r\n        return <div ref={(r) => this.hand = r} style={style} className=\"hand-container\">\r\n            {this.state.cards.map((card, index)=>{\r\n                let transform = `translateY(${35 * index}px`;\r\n                let visible = this.props.visibleLastCard || index < 4;\r\n                return <Card card={card} key={card.toString() + index} index={index} value={card.valueString} type={card.typeString} style={{ transform }} visible={visible} />\r\n            })}\r\n            {this.renderHand()}\r\n        </div>      \r\n    }\r\n}\r\n\r\nexport default Hand;","import React from 'react';\r\nimport Hand from './Hand';\r\n\r\nimport './Player.css';\r\n\r\nclass Player extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            hands: [\r\n                { },\r\n                { },\r\n                { },\r\n                { },\r\n                { }\r\n            ]\r\n        };\r\n        this.hands = [];\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot){\r\n        if (prevProps.cardData !== this.props.cardData){\r\n            let cardPos = this.props.cardData.pos;\r\n            let cardRealPos = this.props.cardData.cardElement.getBoundingClientRect();\r\n            if (!cardPos){\r\n                // player 2 add card\r\n                let i = 0;\r\n                while (!this.props.player.addCard(this.props.cardData.card, i) && i< 5){\r\n                    i += 1;\r\n                }\r\n                // let handPos = this.hands[i].getPos();\r\n                // let x = getCenterX(handPos) - getCenterX(cardRealPos);\r\n                // let y = getCenterY(handPos) - getCenterY(cardRealPos) + (35 * (this.hands[i].cardCount));\r\n                this.hands[i].addCard(this.props.cardData.card, this.props.cardData.cardElement, cardRealPos, true).then(this.props.cardData.cb);\r\n                return;\r\n            }\r\n\r\n            let addedPromises = this.hands.map((hand, index) => {\r\n                let handPos = hand.getPos();\r\n                // console.log(`cb:${cardPos.x} > ht:${handPos.top} && ct:${cardPos.top} < hb:${handPos.height + handPos.top} &&\r\n                //     cl:${cardPos.left} < hr:${handPos.right} && cr:${cardPos.right} > hl:${handPos.left}`);\r\n                if (cardPos.y > handPos.top && cardPos.y < handPos.bottom &&\r\n                    cardPos.x < handPos.right && cardPos.x > handPos.left &&\r\n                    this.props.player.round > hand.cardCount) {\r\n                    let forced = this.props.player.addCard(this.props.cardData.card, index);\r\n                    // let x = getCenterX(handPos) - getCenterX(cardRealPos) + 1;\r\n                    // let y = getCenterY(handPos) - getCenterY(cardRealPos) - (35 * (hand.cardCount) + 1);\r\n                    return hand.addCard(this.props.cardData.card, this.props.cardData.cardElement, cardRealPos, forced);\r\n                    // let hands = [...this.state.hands];\r\n                    // hands[index].cards.push(this.props.cardData.card);\r\n                    // this.setState({hands});\r\n                }\r\n                return Promise.resolve(false);\r\n            });\r\n            Promise.all(addedPromises).then(results=>{\r\n                let result = results.some((result) => result);\r\n                this.props.cardData.cb(result);\r\n            }).catch(e=>{\r\n                console.log(e);\r\n            })\r\n            // this.props.cardData.cb(this.hands.some((hand, index) => {\r\n            //     let handPos = hand.getPos();\r\n            //     // console.log(`cb:${cardPos.x} > ht:${handPos.top} && ct:${cardPos.top} < hb:${handPos.height + handPos.top} &&\r\n            //     //     cl:${cardPos.left} < hr:${handPos.right} && cr:${cardPos.right} > hl:${handPos.left}`);\r\n            //     if (cardPos.y > handPos.top && cardPos.y < handPos.bottom &&\r\n            //       cardPos.x < handPos.right && cardPos.x > handPos.left && \r\n            //         this.props.player.round > hand.cardCount) \r\n            //       {\r\n            //         let forced = this.props.player.addCard(this.props.cardData.card, index);\r\n            //         let x = getCenterX(handPos) - getCenterX(cardRealPos);\r\n            //         let y = getCenterY(handPos) - getCenterY(cardRealPos) + (35 * (hand.cardCount - 1));\r\n            //         return hand.addCard(this.props.cardData.card, this.props.cardData.cardElement, { x, y }, forced);\r\n            //         // let hands = [...this.state.hands];\r\n            //         // hands[index].cards.push(this.props.cardData.card);\r\n            //         // this.setState({hands});\r\n            //     }\r\n            //     return false;\r\n            // }));\r\n        }\r\n    }\r\n    reset(){\r\n        this.hands.forEach(hand=>{\r\n            hand.reset();\r\n        })\r\n    }\r\n    render() {\r\n        return <div className=\"player-container\">\r\n            { this.props.player.hands.map((hand, index) => {\r\n                return <Hand ref={(r)=>{\r\n                    this.hands[index] = r;\r\n                }} key={this.props.name+index} round={this.props.player.round} hand={hand} visibleLastCard={this.props.currentPlayer || this.props.winner} />\r\n            })\r\n            }\r\n            {this.props.winner && this.props.winner === this.props.id ? (<div className=\"winner-banner\">WINNER</div>): null}\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default Player;","import React from 'react';\r\nimport Card from './Card';\r\n// import { CardData } from 'pini';\r\n\r\nimport './Deck.css';\r\n\r\nconst { CardData }= require('pini');\r\n\r\nclass Deck extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        let cards = this.createCards();\r\n        this.state = {\r\n            cards: this.shuffle(cards),\r\n            lastCardIndex: cards.length\r\n        }\r\n        this.cards = [];\r\n    }\r\n    createCards(){\r\n        let res = [];\r\n        CardData.VALUES.forEach((value, index) => {\r\n            if (!index) return;\r\n            CardData.TYPES.forEach(type => {\r\n                res.push(new CardData.Card(value, type));\r\n            }); \r\n        });\r\n        return res;\r\n    }\r\n    shuffle(array) {\r\n        return array.sort(() => Math.random() - 0.5);\r\n    }\r\n    releaseCard = (pos, card, cardElement, cardIndex)=>{\r\n        this.props.moveCardToHand(pos, card, cardElement, cardIndex, (success) => {\r\n            if (success) {\r\n                // remove current card and add card for p2\r\n                // Promise.resolve(1).then(()=>{\r\n                // this.props.p2Card(this.state.cards[--cardIndex], cardElement);\r\n                cardIndex -= 1;\r\n                this.props.p2Card(this.state.cards[cardIndex], this.cards[cardIndex].element, ()=>{\r\n                        Promise.resolve(1).then(()=>this.setState({ lastCardIndex: cardIndex }));\r\n                    });\r\n                Promise.resolve(1).then(()=>this.cards[cardIndex].showCard());\r\n                // });\r\n            }\r\n        });\r\n    }\r\n\r\n    resetDeck(){\r\n        this.setState({\r\n            cards: this.shuffle(this.state.cards),\r\n            lastCardIndex: this.state.cards.length\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return <div className=\"deck-container\">\r\n            {this.state.cards.map((card, index) => {\r\n                {/* let transform = `translate(-${0.5 * index}px, -${0.5 * index}px)`; */}\r\n                if (index < this.state.lastCardIndex){\r\n                    let mouseEvent = index === this.state.lastCardIndex - 1;\r\n                    return <Card ref={(r) => {\r\n                        if (r){\r\n                            this.cards[index] = r;\r\n                        }\r\n                    }} card={card} key={card.toString()+index} index={index} value={card.valueString} type={card.typeString} onMouseDown={mouseEvent} mouseUp={this.releaseCard} />\r\n                }\r\n                return null;\r\n            })}\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default Deck;","import React from 'react';\nimport './App.css';\nimport Player from './componnents/Player';\nimport Deck from './componnents/Deck';\n\nconst { Board } = require('pini');\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n    this.state={};\n    this.board = new Board();\n  }\n\n  moveCardToHand = (pos, card, cardElement, cardIndex, cb)=>{\n    this.setState({\n      cardData:{\n        pos, card, cardElement, cardIndex, cb\n      }\n    })\n  }\n  addCardToPlayer2 = (p2Card, cardElement, callback) => {\n    this.setState({\n      p2CardData: {\n        pos: false, card: p2Card, cardElement, cb: () => {\n          callback();\n          if (this.board.gameEnded()) {\n            this.checkWinner();\n          }\n        }\n      }\n    });\n  }\n\n  checkWinner=()=>{\n    // need to call this function when last card is placed\n    try{\n      let winner = this.board.winner(); \n      console.log(winner);\n      this.setState({\n        p2Visible: true,\n        winner\n      })\n    } catch(e){\n      if (e.message.indexOf(\"h.qualifiesHigh is not a function\") === -1){\n        console.log(e.message);\n      }\n    } \n    // reveale player 2 hands + results\n    // display winner\n\n  }\n  reset=()=>{\n    this.deck.resetDeck();\n    this.board = new Board();\n    this.player1.reset();\n    this.player2.reset();\n    this.setState({\n      p2Visible: false,\n      winner: null\n    })\n  }\n\n  render(){\n    return (  \n      <div className=\"App\">\n        {/* <header className=\"App-header\">\n        </header> */}\n        <div className=\"board\">\n          <Player ref={(r) => this.player1 = r} currentPlayer id={1} winner={this.state.winner} player={this.board.player1} cardData={this.state.cardData} name=\"Player1\" />\n          <Player ref={(r) => this.player2 = r} name=\"Player2\" id={-1} winner={this.state.winner} visible={this.state.p2Visible} cardData={this.state.p2CardData} player={this.board.player2} />\n        </div>\n        <Deck ref={(r) => this.deck = r} moveCardToHand={this.moveCardToHand} p2Card={this.addCardToPlayer2} />\n        <button className=\"check-button\" style={{ top: \"75px\" }} name=\"finish\" onClick={this.reset}>New Game</button>\n        {/* <button className=\"check-button\" name=\"check\" onClick={this.checkWinner}>Check</button> */}\n        {/* <button className=\"check-button\" style={{ top: \"100px\" }} name=\"finish\" onClick={this.addCardToPlayer2}>Player2</button> */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n// {/* hands={[\n//             { cards: [] },\n//             { cards: [] },\n//             { cards: [{ valueString: \"A\", typeString: \"diams\" }] },\n//             { cards: [{ valueString: \"A\", typeString: \"diams\" }, { valueString: \"10\", typeString: \"diams\" }, { valueString: \"A\", typeString: \"diams\" }, { valueString: \"10\", typeString: \"diams\" }, { valueString: \"10\", typeString: \"diams\" }] },\n//             { cards: [{ valueString: \"A\", typeString: \"diams\" }, { valueString: \"10\", typeString: \"diams\" }] }\n//           ]} */}\n// {/* hands={[\n//             { cards: [] },\n//             { cards: [] },\n//             { cards: [{ valueString: \"A\", typeString: \"diams\" }] },\n//             { cards: [] },\n//             { cards: [{ valueString: \"A\", typeString: \"diams\" }, { valueString: \"10\", typeString: \"diams\" }, { valueString: \"A\", typeString: \"diams\" }, { valueString: \"10\", typeString: \"diams\" }, { valueString: \"10\", typeString: \"diams\" }] }\n//           ]} */}\n// {/* <Hand cards={[]} /> */ }\n// {/* <Hand cards={[{ valueString: \"A\", typeString: \"diams\" }]} /> */ }\n// {/* <Hand cards={[{ valueString: \"A\", typeString: \"diams\" }, { valueString: \"10\", typeString: \"diams\" }]} /> */ }","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      console.log(\"service window loaded\");\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n// import { Provider } from 'react-redux';\n// import {store} from './store';\n\nReactDOM.render(<App />, document.getElementById('root'));\n// const rootElement = document.getElementById('root')\n// ReactDOM.render(\n//     <Provider store={store}>\n//         <App />\n//     </Provider>,\n//     rootElement\n// )\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}